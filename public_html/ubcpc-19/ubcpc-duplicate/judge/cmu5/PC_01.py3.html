<!DOCTYPE html>
<html>
<head>
<link href="http://localhost/~acm-web/themes/prism-white.css" rel="stylesheet" type="text/css" />
<script src="http://localhost/~acm-web/themes/prism.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre>
<code class="line-numbers language-cpp">import sys

def query(a,b,c):
    print('?',a,b,c)
    sys.stdout.flush()
    out = int(input())

    return out


n = int(input())

first = query(1,2,3)

curr = -1

good = True

if first != -1:
    if first == 0:
        curr = 2
    else:
        curr = 3

    nex = 4

    while nex &lt;= n and good:
        val = query(1,curr,nex)

        if val == -1:
            good = False
        elif val == 1:
            curr = nex

        nex += 1

    if good:
        print('!', curr)
        
</code>
</pre>
</body>
</html>
