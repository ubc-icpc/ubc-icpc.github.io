<!DOCTYPE html>
<html>
<head>
<link href="http://localhost/~acm-web/themes/prism-white.css" rel="stylesheet" type="text/css" />
<script src="http://localhost/~acm-web/themes/prism.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre>
<code class="line-numbers language-cpp">
from sys import stdout

N = int(input()) # &gt;= 3
cand = 2
for g in range(3, N+1):
    # g &gt; cand
    guess = (1,cand,g)
    print(&quot;? %d %d %d&quot; % guess)
    stdout.flush()
    res = int(input())
    if res==-1:
        exit(0)
    if res==1: # 1&lt;cand&lt;g : candidate not a leaf/terminal city
        cand = g
    # else:
    #     pass  #candidate might still be leaf

print(&quot;! %d&quot; % cand)
stdout.flush()
exit(0)
</code>
</pre>
</body>
</html>
