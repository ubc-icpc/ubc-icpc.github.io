<!DOCTYPE html>
<html>
<head>
<link href="http://localhost/~acm-web/themes/prism-white.css" rel="stylesheet" type="text/css" />
<script src="http://localhost/~acm-web/themes/prism.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre>
<code class="line-numbers language-cpp">//#pragma GCC optimize (&quot;O3&quot;)

#include &lt;bits/stdc++.h&gt;

using namespace std;

int n;
int ask[2010];

int main(){
	scanf(&quot;%d&quot;,&amp;n);
	int root= 1;
	int guess=2;
	ask[root]=1;
	ask[guess]=1;
	for(int i=1;i&lt;=n;i++){
		int c=0;
		for(int j=3;j&lt;=n;j++)
			if(ask[j]==0){
				c=j;
				break;
			}
		if(c==0)break;
		ask[c]=1;
		printf(&quot;? %d %d %d\n&quot;,root,guess,c);
		fflush(stdout);
		int ans;
		scanf(&quot;%d&quot;,&amp;ans);
		if(ans==-1) return 0;

		if(ans==1)guess=c;
	}

	printf(&quot;! %d\n&quot;,guess);

	return 0;
}</code>
</pre>
</body>
</html>
