<!DOCTYPE html>
<html>
<head>
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre class="brush: cpp">
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
using namespace std;

int n, d, x, s;
int cost = 0;
int cost1 = 0;
int cost2 = 0;

int main() {
    cin &gt;&gt; n;
    while (n--) {
        cin &gt;&gt; d &gt;&gt; x &gt;&gt; s;
        int lemon[d];
        int sugar[d];
        int cups[d];
        int pos = 0;
        int minLem;
        int minSgr;
        while (pos &lt; d) {
            cin &gt;&gt; cups[pos] &gt;&gt; lemon[pos] &gt;&gt; sugar[pos];
            pos++;
        }
        pos = 0;
        minLem = lemon[0];
        minSgr = sugar[0];
        int stockSgr = 0;
        while (pos &lt; d) {
            int needLem = cups[pos] * x;
            int needSgr = cups[pos] * s - stockSgr;
            int needBag = ceil((double)needSgr/80);
            minLem = min(lemon[pos], minLem);
            minSgr = min(sugar[pos], minSgr);
            cost1 = minLem * needLem;
            cost2 = minSgr * needBag;
            cost += cost1 + cost2;
            stockSgr = needBag*80 - needSgr;
            pos++;
        }
        cout &lt;&lt; cost &lt;&lt; endl;
        cost = 0;
    }
    return 0;
}</pre>
</body>
<script type="text/javascript">SyntaxHighlighter.all()</script></html>
