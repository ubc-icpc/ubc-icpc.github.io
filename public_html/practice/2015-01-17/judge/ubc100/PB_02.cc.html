<!DOCTYPE html>
<html>
<head>
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre class="brush: cpp">
#include&lt;iostream&gt;
#include&lt;string&gt;
using namespace std;

int rton (char r) {
  switch (r){

  case 73://I
    return 1;

  case 86://V
   return 5;

  case 88://X
    return 10;

  case 76://L
    return 50;

  case 67://C
    return 100;

  case 68://D
    return 500;

  case 77://M
    return 1000;

  default:
    return -1;
  }
}

int aton (char r) {
  return r-48;
}

int main (void) {
  string str;
  cin&gt;&gt;str;
  int vals[str.length()/2];
  int total = 0;

  for( int i = 0; i &lt; str.length()/2; i++) {
    vals[i] = aton(str[2*i])*rton(str[2*i+1]);
  }
  /*
  for( int i = 0; i &lt; str.length()/2; i++) {
    cout &lt;&lt; vals[i] &lt;&lt;endl;
  }
*/
  for( int i = 0; i &lt; str.length()/2 - 1; i++) {
    if(rton(str[2*i+1]) &lt; rton(str[2*i+3])) {
      vals[i] = -vals[i];
    }
  }
  for( int i = 0; i &lt; str.length()/2 ; i++) {
    total += vals[i];
  }
  cout &lt;&lt; total &lt;&lt; endl;
  return 0;
}
</pre>
</body>
<script type="text/javascript">SyntaxHighlighter.all()</script></html>
