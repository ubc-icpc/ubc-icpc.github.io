<!DOCTYPE html>
<html>
<head>
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre class="brush: cpp">
import sets

W=int(raw_input())
digits=[int(raw_input()) for i in range(int(raw_input()))]

zeroAvailable=0 in digits	#n+0+0+0=n


V=int(raw_input())
for _v in range(V):
	v=int(raw_input())
	wavefront=[sets.Set([v])]
	for i in range(1,W+1):
		wavefront.append(sets.Set())
		for prev in wavefront[i-1]:
			for d in digits:
				a=prev-d
				if a&gt;=0:
					wavefront[i].add(a)
				try:
					if prev%d==0:
						wavefront[i].add(prev/d)
				except:
					pass


	printed=False
	if zeroAvailable:
		for i in range(W+1):
			if not printed and any(d in wavefront[i] for d in digits):
				print &quot;Y&quot;
				printed=True
				
		if not printed:
			print &quot;N&quot;
	else:
		if any([d in wavefront[-1] for d in digits]):
			print &quot;Y&quot;
		else:
			print &quot;N&quot;

</pre>
</body>
<script type="text/javascript">SyntaxHighlighter.all()</script></html>
