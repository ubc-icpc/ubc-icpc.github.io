<!DOCTYPE html>
<html>
<head>
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre class="brush: cpp">
#include &lt;bits/stdtr1c++.h&gt;

using namespace std;

typedef long double ld;
typedef long long ll;
typedef pair&lt;ll, ll&gt; pii;
typedef complex&lt;ld&gt; pt;

string sym = &quot;IVXLCDM&quot;;
int val[] = {1, 5, 10, 50, 100, 500, 1000};
map&lt;char, int&gt; m;
int main() {
    for (int i = 0; i &lt; 7; i++) {
        m[sym[i]] = val[i];
    }
    
    ll tot = 0;
    vector&lt;string&gt; s;
    string line; cin &gt;&gt; line;
    for (int i = 0; i &lt; line.size(); i+=2) {
        s.push_back(line.substr(i, 2));
    }
    
    auto value = [&amp;](string s) { return (s[0]-'0')*m[s[1]]; };
    for (int i = 0; i &lt; s.size(); i++) {
        if (i &lt; s.size()-1) {
            if (m[s[i][1]] &lt; m[s[i+1][1]]) {
                tot -= value(s[i]);
            } else {
                tot += value(s[i]);
            }
        } else {
            tot += value(s[i]);
        }
    }
    cout &lt;&lt; tot &lt;&lt; endl;
	return 0;
}</pre>
</body>
<script type="text/javascript">SyntaxHighlighter.all()</script></html>
