<!DOCTYPE html>
<html>
<head>
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre class="brush: cpp">
import sys
import itertools as it

def get(f): return f(sys.stdin.next())

i0 = lambda x:x[0]
i1 = lambda x:x[1]

n = get(int)
c = [ 0 for i in xrange(1001) ]
for i in xrange(n): c[get(int)] += 1

# frequency -&gt; number sorted desc by frequency
d = sorted(list((n, i) for i, n in enumerate(c) if n &gt; 0), key=lambda x:-x[0])
gs = ((f, list(g)) for (f, g) in it.groupby(d, key=i0) )

_, c1 = gs.next()
c1 = map(i1, c1)

if len(c1) &gt; 1:
    print max(c1) - min(c1)
else:
    a = d[0][1]
    _, c2 = gs.next()
    c2 = map(i1, c2)
    print max(abs(a - max(c2)), abs(a - min(c2)))

</pre>
</body>
<script type="text/javascript">SyntaxHighlighter.all()</script></html>
