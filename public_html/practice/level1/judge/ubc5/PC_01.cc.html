<!DOCTYPE html>
<html>
<head>
<link href="http://localhost/~acm-web/themes/prism-white.css" rel="stylesheet" type="text/css" />
<script src="http://localhost/~acm-web/themes/prism.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre>
<code class="line-numbers language-cpp">#include &lt;bits/stdtr1c++.h&gt;
using namespace std;

typedef long long ll;
typedef pair&lt;int,bool&gt; pib;
typedef list&lt;pib&gt; vp;

int main() {
  ios::sync_with_stdio(0);
  int n, t = 1;
  while (cin &gt;&gt; n &amp;&amp; n) {
    cout &lt;&lt; &quot;Pile &quot; &lt;&lt; t++ &lt;&lt; &quot;\n&quot;;
    string s, f; cin &gt;&gt; s &gt;&gt; f;
    list&lt;vp&gt; v;
    for (int i = 0; i &lt; n; i++) {
      vp V;
      if (s[i] == 'U')
        V.push_back(make_pair(i+1,1));
      else
        V.push_back(make_pair(i+1,0));
      v.push_back(V);
    }
    for (int i = 0; i &lt; n-1; i++) {
      if (f[i] == 'R') {
        list&lt;vp&gt;::iterator it = v.end(), it2 = it;
        --it; --it; --it2;
        for (vp::iterator it3 = it2-&gt;begin(); it3 != it2-&gt;end(); it3++) {
          it-&gt;push_front(*it3);
          it-&gt;begin()-&gt;second ^= 1;
        }
        v.erase(it2);
      }
      else {
        list&lt;vp&gt;::iterator it = v.begin(), it2 = it;
        ++it;
        for (vp::iterator it3 = it2-&gt;begin(); it3 != it2-&gt;end(); it3++) {
          it-&gt;push_front(*it3);
          it-&gt;begin()-&gt;second ^= 1;
        }
        v.erase(it2);
      }
    }
    vector&lt;pib&gt; V;
    for (pib p : v.front())
      V.push_back(p);
    int m; cin &gt;&gt; m;
    for (int i = 0; i &lt; m; i++) {
      int q; cin &gt;&gt; q;
      --q;
      cout &lt;&lt; &quot;Card &quot; &lt;&lt; q+1 &lt;&lt; &quot; is a face &quot; &lt;&lt; (V[q].second ? &quot;up &quot; : &quot;down &quot;) &lt;&lt; V[q].first &lt;&lt; &quot;.\n&quot;;
    }
  }
  return 0;
}
</code>
</pre>
</body>
</html>
