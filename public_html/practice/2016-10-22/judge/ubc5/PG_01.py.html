<!DOCTYPE html>
<html>
<head>
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre class="brush: cpp">
def ts(r):
  if r &gt; 20:
    return 2
  elif r &gt; 15:
    return 3
  elif r &gt; 10:
    return 4
  elif r &gt; 0:
    return 5
  return -1

while True:
  try:
    r, s, w = 25, 0, 0
    for i in raw_input():
      if r == 0:
        break
      if i == 'W':
        w += 1
        s += 1
        if w &gt;= 3 and r &gt; 5:
          s += 1
        if s &gt; ts(r):
          s -= ts(r)
          r -= 1
      else:
        w = 0
        if r &lt; 20 or (r == 20 and s):
          s -= 1
        if s &lt; 0:
          r += 1
          s = ts(r)-1
    print r if r else &quot;Legend&quot;
  except EOFError:
    break
</pre>
</body>
<script type="text/javascript">SyntaxHighlighter.all()</script></html>
