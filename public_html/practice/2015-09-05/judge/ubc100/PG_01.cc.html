<!DOCTYPE html>
<html>
<head>
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js" type="text/javascript"></script>
<style type="text/css">.syntaxhighlighter{overflow-y: hidden !important; overflow-x: auto !important;}</style></head>
<body>
<pre class="brush: cpp">
#include&lt;iostream&gt;
#include&lt;string.h&gt;
#include&lt;set&gt;
#include&lt;algorithm&gt;
using namespace std;
bool primes[10011];
set&lt;int&gt; p;
int main (void) {
  memset(primes, 1, sizeof primes);
  primes[1]=false;
  for(int i=2;i&lt;10011;i++) {
	if(primes[i]) p.insert(i);
	for(int j=1; j*i&lt;10011; j++)
	  primes[j*i]=false;
  }
  int t; cin &gt;&gt; t;
  while(t--){
	int x; cin &gt;&gt; x;
	cout &lt;&lt; &quot;Input value: &quot; &lt;&lt; x &lt;&lt; endl;
	set&lt;int&gt;::iterator it = p.find(x);
	if(it != p.end()) {
	  cout &lt;&lt; &quot;Would you believe it; it is a prime!&quot; &lt;&lt; endl &lt;&lt; endl;
	} else {
	  set&lt;int&gt;::iterator iter = p.upper_bound(x);
	  int n;
	  if(iter != p.end())
		n = min(x-*(--iter), *(iter)-x);
	  else
		n = x-*p.rbegin();
	  cout &lt;&lt; &quot;Missed it by that much (&quot; &lt;&lt; n &lt;&lt; &quot;)!&quot; &lt;&lt; endl &lt;&lt; endl;
	}
  }
  return 0;
}
</pre>
</body>
<script type="text/javascript">SyntaxHighlighter.all()</script></html>
